
<div>
    <h1>Listado de sucursales</h1>
</div>

<div class="container">
    <p-table [value]="customers">
        <ng-template pTemplate="header">
            <tr>
                <th>Nombre</th>
                <th>Encargado</th>
                <th>Telefono</th>
                <th>Dirección</th>
                <th>Región - Comuna</th>
                <th>Estado</th>
                <th>Acción</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-customer>
            <tr>

                <td>
                    <span class="image-text">{{ customer.nombre }} </span>
                    <p-badge *ngIf="customer.nombre === 'Sucursal Costanera' || customer.nombre === 'Sucursal La Florida'" value="New"></p-badge>
                </td>

                <td>
                    <p-avatar
                        icon="pi pi-user"
                        styleClass="p-mr-2"
                        [style]="{'background-color': '#9c27b0', 'color': '#ffffff'}"
                        shape="circle">
                    </p-avatar>
                    <span class="image-text">  {{customer.encargado}} </span>
                </td>

                <td>
                    <!--<img src="{{customer.src}}" width="30" />-->
                    <span class="image-text">{{customer.telefono }}</span>
                </td>

                <td>
                    <!--<img src="{{customer.src}}" width="30" />-->
                    <span class="image-text">{{customer.direccion}}</span>
                </td>

                <td>
                    <span class="image-text">{{customer.region + ' - ' + customer.comuna }}</span>
                </td>

                <td>
                    <span><p-badge value="{{ customer.estado}}" severity="{{customer.severity}}"></p-badge></span>
                </td>

                <td>
                    <p-chip *ngIf="customer.estado === 'Activa'" label="" icon="pi pi-pencil" (click)="editarMascota( customer.id )"></p-chip>
                    <p-chip *ngIf="customer.estado === 'Activa'" label="" icon="pi pi-times" (click)="desactivarMascota( customer.id, $event )"></p-chip>
                    <p-chip *ngIf="customer.estado === 'Desactivada'" label="" icon="pi pi-check" (click)="activarMascota(  customer.id, $event )"></p-chip>
                </td>


            </tr>
        </ng-template>
    </p-table>

    <p-toast></p-toast>
    <p-confirmPopup></p-confirmPopup>

    <mat-paginator [length]="totalRegistros"
        [pageSize]="totalPorPagina"
        [pageIndex]="paginaActual"
        [pageSizeOptions]="pageSizeOptions"
        (page)="paginar( $event )"
        showFirstLastButtons>
    </mat-paginator>

</div>